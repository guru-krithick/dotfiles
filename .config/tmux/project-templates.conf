# Save as: ~/.config/tmux/project-templates.conf
# Override auto-detection for specific projects

# This file is optional. If you want custom behavior for a specific project,
# create a .tmux file in that project's root directory.
# The sessionizer will check .tmux first, then fall back to auto-detection.

# Example custom overrides (if you want to extend the auto-detection logic):
# You can source this file from your sessionizer and add custom logic

case "$selected" in
    */my-special-project)
        # Custom setup for a specific project
        tmux rename-window -t "$selected_name:1" "nvim"
        tmux new-window -t "$selected_name:2" -n "servers" -c "$selected"
        tmux split-window -h -t "$selected_name:2" -c "$selected"
        tmux send-keys -t "$selected_name:2.0" "npm run api" C-m
        tmux send-keys -t "$selected_name:2.1" "npm run web" C-m
        tmux select-window -t "$selected_name:1"
        ;;
    
    */dotfiles)
        # Single window for dotfiles
        tmux rename-window -t "$selected_name:1" "config"
        ;;
        
    */learn/*)
        # Learning projects get 3 windows: editor, run, notes
        tmux rename-window -t "$selected_name:1" "code"
        tmux new-window -t "$selected_name:2" -n "run" -c "$selected"
        tmux new-window -t "$selected_name:3" -n "notes" -c "$selected"
        tmux send-keys -t "$selected_name:3" "nvim notes.md"
        tmux select-window -t "$selected_name:1"
        ;;
esac

# Template Functions (for .tmux files to use)
# Copy these to your .tmux files if needed

web_fullstack() {
    # Frontend + Backend split setup
    tmux rename-window -t "$selected_name:1" "editor"
    tmux new-window -t "$selected_name:2" -n "servers" -c "$selected"
    tmux split-window -h -t "$selected_name:2" -c "$selected"
    tmux send-keys -t "$selected_name:2.0" "cd backend && npm run dev" C-m
    tmux send-keys -t "$selected_name:2.1" "cd frontend && npm run dev" C-m
    tmux new-window -t "$selected_name:3" -n "terminal" -c "$selected"
    tmux select-window -t "$selected_name:1"
}

jupyter_data_science() {
    # Data science with Jupyter
    tmux rename-window -t "$selected_name:1" "jupyter"
    tmux send-keys -t "$selected_name:1" "jupyter lab" C-m
    tmux new-window -t "$selected_name:2" -n "editor" -c "$selected"
    tmux new-window -t "$selected_name:3" -n "terminal" -c "$selected"
}

docker_microservices() {
    # Docker compose services
    tmux rename-window -t "$selected_name:1" "editor"
    tmux new-window -t "$selected_name:2" -n "compose" -c "$selected"
    tmux send-keys -t "$selected_name:2" "docker-compose up" C-m
    tmux new-window -t "$selected_name:3" -n "logs" -c "$selected"
    tmux split-window -v -t "$selected_name:3"
    tmux send-keys -t "$selected_name:3.0" "docker-compose logs -f api" C-m
    tmux send-keys -t "$selected_name:3.1" "docker-compose logs -f worker" C-m
    tmux select-window -t "$selected_name:1"
}
